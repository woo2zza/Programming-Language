<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
      .warning-message {
        color: red;
      }
    </style>
</head>
<body>
  <!-- 비밀번호를 입력시 8자 이상 입력이 되었는지 또는
  비밀번호와 비밀번호를 확인을 위한 값이 같은지 유효성 검사를 하는 코드다 -->

  <!-- username은 아무거나 넣어보고
  비번은 8자 미만으로 넣어도 보고
  비번 이랑 확인비번이랑 달라도 넣어보자. -->

  <h1>Sign up</h1>
  <form>
    <div>
      <label for="username">username: </label>
      <input type="text" id="username">
    </div>

    <div>
      <label for="password1">password: </label>
      <input type="password" id="password1">
      <span id="warning1" class="warning-message"></span>
    </div>

    <div>
      <label for="password2">password confirmation: </label>
      <input type="password" id="password2">
      <span id="warning2" class="warning-message"></span>
    </div>
    
    <button>Signup</button>
  </form>

  <script>

    const signupForm = document.querySelector('#signupForm')
    const password1 = document.querySelector('#password1')
    const password2 = document.querySelector('#password2')
    const warning1 = document.querySelector('#warning1')
    const warning2 = document.querySelector('#warning2')
    
    // change 이벤트(input 포커스 아웃)에 비밀번호 검증 로직 추가
    password1.addEventListener('change', function (event) {
      const p1 = event.target.value
      if (p1.length < 8) {
        warning1.innerText = '비밀번호는 8자 이상이어야 합니다.'
      } else {
        warning1.innerText = ''
      }
    })
    
    // 비밀번호 확인시 2개의 비밀번호가 같은지 확인
    password2.addEventListener('change', function (event) {
      const p1 = password1.value
      const p2 = event.target.value

      if (p1 !== p2) {
        warning2.innerText = '비밀번호가 일치하지 않습니다.'
      } else {
        warning2.innerText = ''
      }
    })

  </script>
</body>
</html>